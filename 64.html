<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Base64 & GZIP åŠ è§£å¯†å·¥å…· - çº¯é™æ€ç‰ˆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* æ ·å¼ä¸ä¹‹å‰ç›¸åŒï¼Œç²¾ç®€æ”¾ä¸€å— */
*{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif}
body{background:linear-gradient(135deg,#6a11cb 0%,#2575fc 100%);color:#333;min-height:100vh;padding:20px}
.box{max-width:1000px;margin:0 auto;background:rgba(255,255,255,.95);border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.2)}
header{background:linear-gradient(90deg,#4b6cb7 0%,#182848 100%);color:#fff;text-align:center;padding:25px 20px}
h1{font-size:2rem;margin-bottom:8px}.sub{font-size:1.1rem;opacity:.9}
.wrap{display:flex;flex-wrap:wrap;padding:20px;gap:20px}
.panel{flex:1 1 320px;background:#fff;border-radius:8px;padding:20px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
h2{color:#4b6cb7;margin-bottom:12px;border-bottom:2px solid #eaeaea;padding-bottom:8px}
textarea{width:100%;min-height:160px;padding:12px;border:1px solid #ccc;border-radius:6px;resize:vertical;font-family:monospace;font-size:14px;margin-bottom:12px}
.btn-group{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
button{flex:1;padding:10px 16px;border:none;border-radius:6px;background:#4b6cb7;color:#fff;font-weight:600;cursor:pointer;transition:.25s;min-width:120px}
button:hover{background:#3a559d;transform:translateY(-2px)}
.success{background:#28a745}.info{background:#17a2b8}.orange{background:#fd7e14}
.file-input{display:none}
.file-label{background:#6a11cb;color:#fff;padding:10px 16px;border-radius:6px;cursor:pointer;display:inline-block;margin-bottom:10px}
.file-label:hover{background:#5a0db5}
.result{background:#f8f9fa;border:1px solid #eaeaea;border-radius:6px;padding:12px;margin-top:10px}
.result-title{font-weight:600;margin-bottom:6px;color:#495057}
.result-body{white-space:pre-wrap;word-break:break-all;font-family:monospace;font-size:14px;max-height:300px;overflow-y:auto}
.examples{margin-top:15px}.item{background:#e9ecef;padding:8px 10px;border-radius:4px;margin-bottom:6px;cursor:pointer;font-size:14px}.item:hover{background:#dee2e6}
.tips{padding:20px;background:#f8f9fa;border-top:1px solid #eaeaea}
.tips h3{color:#4b6cb7;margin-bottom:8px}
.tips ul{padding-left:20px;margin-bottom:10px}
footer{text-align:center;padding:18px;color:#fff;background:linear-gradient(90deg,#4b6cb7 0%,#182848 100%);font-size:.9rem}
@media(max-width:768px){.wrap{flex-direction:column}}
</style>
</head>
<body>
<div class="box">
    <header>
        <h1>Base64 & GZIP åŠ è§£å¯†å·¥å…·</h1>
        <p class="sub">çº¯é™æ€ç‰ˆ Â· æ”¯æŒæ–‡ä»¶ä¸Šä¼ /ä¸‹è½½/å¤åˆ¶ Â· å…¨ä¸­æ–‡</p>
    </header>

    <div class="wrap">
        <!-- å·¦ä¾§ï¼šè¾“å…¥ -->
        <div class="panel">
            <h2>è¾“å…¥åŒº</h2>
            <label for="ä¸Šä¼ æ–‡ä»¶" class="file-label">ğŸ“ é€‰æ‹©æ–‡ä»¶ä¸Šä¼ </label>
            <input type="file" id="ä¸Šä¼ æ–‡ä»¶" class="file-input">
            <div style="font-size:12px;color:#666;margin-bottom:10px">æ”¯æŒä»»æ„æ–‡æœ¬æ–‡ä»¶</div>
            <textarea id="è¾“å…¥æ¡†" placeholder="è¯·ç²˜è´´æˆ–ä¸Šä¼ å†…å®¹â€¦"></textarea>

            <div class="btn-group">
                <button id="è§£å¯†Btn">ğŸ”“ è§£å¯†</button>
                <button id="åŠ å¯†Btn">ğŸ”’ åŠ å¯†</button>
            </div>

            <div class="examples">
                <h3>ä¸€é”®ç¤ºä¾‹</h3>
                <div class="item" data-val="H4sIAFv2dGYC/zVQ0VLCMBD8m3wn4oAEZ0THUuzQGR4EUwGHVq1ASvia3F34C5NL+pTdvc1mL5S1YBpBWevUGKQS1F2c1AKmFV524bCmJPkgIC/9OCCaNHg/YqRe4NwFhHfPOMjZJ1Wa4uTNasna0litQvrto8DTISCY1Xi+srb69AZ+W2/BzPnGtKIsJi82WO7DFH/q5MO9ousTp8TkWDZZE4meRNojrPNEiFd26t0dfgWs1a0Yp6VDtVndk8XGN+sJp/V/M/qzXVyWEVdqhl6geeGqgbDm1Q2/Xbu0+lHQ6ssb/gEHs/6laAEAAA==">é£é€Ÿèµ„æº</div>
                <div class="item" data-val="H4sIAAAAAAAAAG2S31bCMAzG36bPyR832A7CpjgEd/BCsQOGAxXFleLLLE33Fm5pe7zxar806Zcv6XB6BHlg+meJYgcBZyjOOigZhJk6b1mT09zXxyv9WvwXqHGmryOG2zn4Hng5xCGr5K3uvTEsNyDvMBgw8G/q+Zoo4KrvEYVZJVNLOBVofEA0Uh1Ox0naVBOtBvAtWlLdSHUSol6OSUzUD1VvQTS8r8qAaDfSw2VL2L3UiwvR8GBbY1ig3BDx2CqjmIB3IpIxitTZeZBVydu1qJzjZUw0W6k0J3rf0+dUwMRQsq/XlALvsxLJ30W7VXPXBvXjutF3+6ZOrox0GnkXUwdXSdIuY2yZx7LOTGDU3TOaOWyZU3ex8W8rjXETVOcXjPx2K1atnef4Bc80GfZ39SzDR/Pb0MI0f9LFxy+o48M1VAIAAA==">å¿«çœ‹èµ„æº</div>
                <div class="item" data-val="H4sIAAAAAAAAADVQW3LCMAy8jc/JYygknSllCqGUTPkoYAphEqCB4uD0Mrbk3KK2Yn95V9autMJpqeWJodhrOcNoyMzfJ1ZHHXEGGcf6xaFmu4Df3CEd75RMXR+OTtAfEOITfa8cgu4rdBKHbK//hdG7EhHVktSWCcU7nJIC4xzlnmpLqQSnaatvS/w0eBwYVg8TCabXvFk8eeL2GReBzDdWFAitHTTjAu41ebX+raMVQJoF0ub0pLzpdRLIpfCbWIF7kK5l+JfJf5jeDH1u7NbNR01pexkmE8ozuKqKbqHkm+mdTblU4pnhyt32H73g+qZ2AQAA">å¤©ç©ºèµ„æº</div>
            </div>
        </div>

        <!-- å³ä¾§ï¼šç»“æœ -->
        <div class="panel">
            <h2>ç»“æœåŒº</h2>
            <div class="result">
                <div class="result-title">å¤„ç†ç»“æœï¼š</div>
                <div class="result-body" id="ç»“æœæ–‡æœ¬"></div>
            </div>
            <div class="btn-group">
                <button class="info" onclick="å¤åˆ¶ç»“æœ()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
                <button class="orange" onclick="ä¸‹è½½ç»“æœ()">â¬‡ ä¸‹è½½æ–‡ä»¶</button>
            </div>
            <div class="result" style="margin-top:12px">
                <div class="result-title">æ“ä½œè®°å½•ï¼š</div>
                <div class="result-body" id="æ“ä½œè®°å½•">ç­‰å¾…æ“ä½œ</div>
            </div>
        </div>
    </div>

    <div class="tips">
        <h3>ä½¿ç”¨è¯´æ˜</h3>
        <ul>
            <li>è§£å¯†ï¼šBase64 è§£ç  â†’ GZIP è§£å‹ç¼©</li>
            <li>åŠ å¯†ï¼šGZIP å‹ç¼© â†’ Base64 ç¼–ç </li>
            <li>å¯ä¸Šä¼ æ–‡æœ¬æ–‡ä»¶è‡ªåŠ¨è¯»å…¥ï¼›å¯ä¸‹è½½å¤„ç†ç»“æœåˆ°æœ¬åœ°</li>
            <li>ç‚¹å‡»â€œå¤åˆ¶ç»“æœâ€å³å¯ä¸€é”®å†™å…¥å‰ªè´´æ¿</li>
        </ul>
    </div>

    <footer>Â© Base64 & GZIP åŠ è§£å¯†å·¥å…· - çº¯é™æ€ä¸­æ–‡ç‰ˆ</footer>
</div>

<script>
/* ========== åŠ è§£å¯†æ ¸å¿ƒ ========== */
function è§£å¯†(str){
    try{
        const binary = atob(str);
        const bytes  = new Uint8Array(binary.length);
        for(let i=0;i<binary.length;i++) bytes[i]=binary.charCodeAt(i);
        const gunzipped = pako.inflate(bytes,{to:'string'});
        return gunzipped;
    }catch(e){ return 'è§£å¯†å¤±è´¥ï¼š' + e.message; }
}
function åŠ å¯†(str){
    try{
        const gzipped = pako.gzip(str);
        return btoa(String.fromCharCode(...gzipped));
    }catch(e){ return 'åŠ å¯†å¤±è´¥ï¼š' + e.message; }
}

/* ========== æŒ‰é’®äº‹ä»¶ ========== */
document.getElementById('è§£å¯†Btn').onclick = () => {
    const txt = document.getElementById('è¾“å…¥æ¡†').value.trim();
    if(!txt) return alert('è¯·è¾“å…¥å¾…è§£å¯†å†…å®¹');
    const res = è§£å¯†(txt);
    document.getElementById('ç»“æœæ–‡æœ¬').textContent = res;
    document.getElementById('æ“ä½œè®°å½•').textContent = 'æ‰§è¡Œï¼šBase64 è§£ç  â†’ GZIP è§£å‹ç¼©';
};
document.getElementById('åŠ å¯†Btn').onclick = () => {
    const txt = document.getElementById('è¾“å…¥æ¡†').value.trim();
    if(!txt) return alert('è¯·è¾“å…¥å¾…åŠ å¯†å†…å®¹');
    const res = åŠ å¯†(txt);
    document.getElementById('ç»“æœæ–‡æœ¬').textContent = res;
    document.getElementById('æ“ä½œè®°å½•').textContent = 'æ‰§è¡Œï¼šGZIP å‹ç¼© â†’ Base64 ç¼–ç ';
};

/* ========== ç¤ºä¾‹å¡«å…… ========== */
document.querySelectorAll('.item').forEach(el=>{
    el.onclick = () => {
        document.getElementById('è¾“å…¥æ¡†').value = el.dataset.val;
    };
});

/* ========== æ–‡ä»¶ä¸Šä¼  ========== */
document.getElementById('ä¸Šä¼ æ–‡ä»¶').addEventListener('change', e=>{
    const file = e.target.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = ev => {
        document.getElementById('è¾“å…¥æ¡†').value = ev.target.result;
    };
    reader.readAsText(file);
});

/* ========== å¤åˆ¶ç»“æœï¼ˆå…¼å®¹ HTTPï¼‰ ========== */
function å¤åˆ¶ç»“æœ(){
    const txt = document.getElementById('ç»“æœæ–‡æœ¬').textContent;
    if(!txt) return alert('æš‚æ— å†…å®¹å¯å¤åˆ¶');
    if(navigator.clipboard && window.isSecureContext){
        navigator.clipboard.writeText(txt).then(()=>alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'));
    }else{
        const ta = document.createElement('textarea');
        ta.value=txt; ta.style.position='fixed'; ta.style.opacity=0;
        document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); }catch(e){ alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰ä¸­å¤åˆ¶'); }
        document.body.removeChild(ta);
    }
}

/* ========== ä¸‹è½½ç»“æœ ========== */
function ä¸‹è½½ç»“æœ(){
    const txt = document.getElementById('ç»“æœæ–‡æœ¬').textContent;
    if(!txt) return alert('æš‚æ— å†…å®¹å¯ä¸‹è½½');
    const blob = new Blob([txt],{type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href=url; a.download='ç»“æœ_'+Date.now()+'.txt'; a.click();
    URL.revokeObjectURL(url);
}
</script>

<!-- å¼•å…¥ pako åš gzip å‹ç¼©/è§£å‹ç¼© -->
<script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
</body>
</html>
